{% extends 'header_footer.html' %}

{% block title %}Order list - Home Decor{% endblock %}

{% block content %}
  <style>
    /* For the container to hold the entire content */
    .container {
      margin-top: 20px;
    }

    /* Style for the row displaying the orders */
    .row.row-cols-1.row-cols-md-2.row-cols-lg-3.g-4 {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    /* Style for each order card */
    .card.h-100 {
      width: 100%;
      box-sizing: border-box;
      border-radius: 8px;
      border: 1px solid #ddd;
      margin-bottom: 20px;
    }

    /* Order items row */
    .card-footer .row.row-cols-1.row-cols-md-2.g-2 {
      display: flex;             /* Use flexbox */
      flex-wrap: nowrap;         /* Prevent items from wrapping onto a new line */
      overflow-x: auto;          /* Allows horizontal scrolling if items overflow */
      gap: 10px;                 /* Space between items */
    }

    /* Style for each order item (card) */
    .card-footer .row .col {
      flex: 0 0 auto;  /* Prevent the column from shrinking */
      width: 200px;    /* Set a fixed width for each item card */
    }

    /* Ensures images are responsive and properly aligned */
    .card-img-top {
      width: 100%;
      height: auto;
    }
  </style>
</head>
<body>

  {% for order in orders %}
  <div class="order-card">
      <h3>Order #{{ order.order_number }}</h3>
      <p>Order Date: {{ order.order_date }}</p>
      <p>Status: {{ order.status }}</p>
      <p>Total Price: ${{ order.total_price }}</p>
      <p>Estimated Delivery: {{ order.estimated_delivery }}</p>
  
      <h4>Shipping Address:</h4>
      <p>{{ order.address.full_name }}</p>
      <p>{{ order.address.address_line_1 }}</p>
      <p>{{ order.address.city }}</p>
  
      <h4>Items:</h4>
      <ul>
          {% for item in order.items %}
              <li>
                  <img src="{{ item.product_images.0 }}" alt="Product Image" width="50">
                  <p>{{ item.product_name }}</p>
                  <p>Quantity: {{ item.quantity }}</p>
                  <p>Price: ${{ item.price }}</p>
              </li>
          {% endfor %}
      </ul>
  </div>
  {% empty %}
  <p>No orders found.</p>
  {% endfor %}

</body>
{% endblock %}